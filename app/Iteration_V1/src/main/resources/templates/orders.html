<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css"
	th:href="@{/resources/css/style.css}" />
<title>Orders</title>
</head>
<body>
	<nav>
		<table>
			<tr>
				<td><a href="index.html">Startseite</a></td>
				<td><a href="catalog.html">Unser Angebot</a></td>
				<td><a href="pizza_configurator.html">Eigene Pizza
						erstellen</a></td>
			</tr>
		</table>
	</nav>

	<h1>Cart</h1>

	<div>
		<h2>Kunden überprüpfen</h2>
		<form method="post" action="/checkTan">
			<label for="surname">Telefonnummer</label>: <input type="text"
				id="tnumber" name="tnumber" /> <br /> <label for="forename">TAN</label>:
			<input type="text" id="tan" name="tan" /> <br /> <input
				type="submit" value="Check" />
		</form>
	</div>

	<div th:switch="${customer.isPresent()}">
		<p th:case="true"
			th:text="'Kunde ist: '+${customer.get().getForename()}+' '+${customer.get().getSurname()}+' tel: '+${customer.get().getTelephoneNumber()}">User
			is present</p>
		<p th:case="false" th:text="'Kein Kunde vorhanden'">User isn't
			present</p>
	</div>


	<div class="tables">

		<table>
			<caption>Bestellungen</caption>
			<thead>
				<tr>
					<th>Name</th>
					<th>Anzahl</th>
					<th>Preis</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">

				<tr th:each="item : ${cart} ">
					<td th:text="${item.productName}">Last Action Hero</td>
					<td th:text="${item.quantity}">10</td>
					<td th:text="${item.price}">10 Euro</td>
				</tr>

			</tbody>
		</table>
		<p th:text="'Gesamt: ' + ${cart.price}">Summe: 100 Euro</p>

		<form method="post" action="/checkout">
			<input type="submit" value="Kaufen" />
		</form>



	</div>

	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>Preis</th>
				<th>Status</th>
				<th>Unbaked</th>
				<th>Lieferant</th>

			</tr>
		</thead>
		<tbody>
			<tr th:each="order : ${orders} ">
				<td th:text="${order.getId() }">arg</td>
				<td th:text="${{order.getOrder().getTotalPrice()}}">arg</td>
				<td th:text="${order.getOrderStatus() }">arg</td>
				<td th:text="${order.getUnbakedPizzas() }">arg</td>
				<form method="post" action="/assignDeliverer">
				 <td><select name="delivererlist" size="1">
						<option th:each=" deliverer : ${deliverers}"
							th:text="${deliverer.getForename()}">eddy</option>
				</select></td>
				<td>
						<input type="hidden" value="0" id="lol" th:value="${deliverer}" />
						<!-- <input type="hidden" value="0" name="orderId" th:value="${order.getId()}" /> -->
						<input type="submit" value="Lieferant schicken" />
						
					</td>
					</form>
				
			</tr>

		</tbody>
	</table>
</body>
</html>