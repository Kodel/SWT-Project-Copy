<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" th:href="@{/resources/css/style.css}" />
		<title>Items</title>
	</head>
	<body>
		<h1>Itemcatalog</h1>
		<li><a href="index.html">Zurück</a></li>
		<table>
			<tr>
				<th> Name </th>
				<th> Price </th>
				<th> Art </th>
			</tr>
			<tr th:each="item : ${items} ">
							<td th:text="${item.getName()}">PizzaPizza</td>
							<td th:text="${item.getPrice()}">10</td>
							<td th:text="${item.getType()}">Obst</td>
							<td>
								<form method="post" action="/add">
									<input type="hidden" name="pid" value="0" th:value="${item.id}" />
									<input type="hidden" name="number" value="1" /> 
									<input type="submit" value="Add" />
								</form>
							</td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"> <!-- geht nicht bei Ingredients -->
								<form method="post" action="/removeItem">
									<input type="hidden" name="pid" value="0" th:value="${item.id}" />
									<input type="hidden" name="number" value="1" /> 
									<input type="submit" value="Remove" />
								</form>
							</td>
							<td sec:authorize="hasRole('ROLE_ADMIN')">
								<form method="post" action="/editItem">
									<input type="hidden" name="pid" value="0" th:value="${item.id}" />
									<input type="hidden" name="number" value="1" /> 
									<input type="submit" value="Edit" />
								</form>
							</td>
			</tr>			
		</table>
		<a href="addItem.html">Item hinzufügen</a> <!--  needs to be changed -->
		<!--  <form th:action="editItem" method="post">
	            
	            <label for="Name">Name</label>:
	            <input type="text" id="Name" name="Name"/> <br />
	            
	            <label for="Price">Price</label>:
	            <input type="text" id="Price" name="Price"/> <br />
	            
	             <input type="submit" value="Speichern" />
	            
	        </form> -->
		
  		<table>
			<caption>Warenkorb</caption>
			<thead>
				<tr>
					<th>Name</th>
					<th>Anzahl</th>
					<th>Preis</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">

				<tr th:each="item : ${cart} ">
					<td th:text="${item.productName}">Gemüse</td>
					<td th:text="${item.quantity}">10</td>
					<td th:text="${item.price}">10 Euro</td>
				</tr>

			</tbody>
		</table>
		<p th:text="'Gesamt: ' + ${cart.price}">Summe: 100 Euro</p>
		
	</body>
</html>